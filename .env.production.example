# ==============================================
# NexusCore Production Environment Variables
# ==============================================
# Copy this file to .env.production and fill in the values
# IMPORTANT: Never commit .env.production to version control

# ----------------------------------------------
# Database Configuration
# ----------------------------------------------
POSTGRES_USER=nexuscore
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
POSTGRES_DB=nexuscore_db
DB_PORT=5432

# Full database URL (used by Prisma and API)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?schema=public

# ----------------------------------------------
# Redis Configuration
# ----------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_STRONG_REDIS_PASSWORD

# ----------------------------------------------
# JWT Configuration
# ----------------------------------------------
# Generate secure secrets using: openssl rand -base64 64
JWT_ACCESS_SECRET=CHANGE_ME_GENERATE_RANDOM_SECRET_64_CHARS_MIN
JWT_REFRESH_SECRET=CHANGE_ME_GENERATE_DIFFERENT_RANDOM_SECRET_64_CHARS_MIN
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ----------------------------------------------
# API Configuration
# ----------------------------------------------
NODE_ENV=production
API_PORT=4000
LOG_LEVEL=info

# CORS - Set to your frontend domain
CORS_ORIGIN=https://yourdomain.com

# API Scaling (optional)
API_REPLICAS=1

# ----------------------------------------------
# Web Configuration
# ----------------------------------------------
WEB_PORT=3000
VITE_API_URL=https://api.yourdomain.com

# Web Scaling (optional)
WEB_REPLICAS=1

# ----------------------------------------------
# Optional: External Database Exposure
# ----------------------------------------------
# Set to true only if you need external database access
# EXPOSE_DB_PORT=false

# ----------------------------------------------
# Optional: Rate Limiting
# ----------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ----------------------------------------------
# Optional: Session Configuration
# ----------------------------------------------
SESSION_SECRET=CHANGE_ME_GENERATE_RANDOM_SESSION_SECRET

# ----------------------------------------------
# Optional: Email Configuration (for future use)
# ----------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@yourdomain.com

# ----------------------------------------------
# Optional: AWS Configuration (for file uploads)
# ----------------------------------------------
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=your-bucket-name

# ----------------------------------------------
# Optional: Monitoring & APM
# ----------------------------------------------
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# NEW_RELIC_LICENSE_KEY=your-license-key
# NEW_RELIC_APP_NAME=NexusCore API

# ----------------------------------------------
# Optional: Feature Flags
# ----------------------------------------------
# ENABLE_SWAGGER=false
# ENABLE_GRAPHQL=false
# ENABLE_WEBHOOKS=true

# ----------------------------------------------
# Security
# ----------------------------------------------
# Add your domain to allowed origins
# ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
